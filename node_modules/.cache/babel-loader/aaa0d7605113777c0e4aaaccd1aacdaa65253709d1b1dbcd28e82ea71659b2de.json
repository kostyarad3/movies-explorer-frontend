{"ast":null,"code":"import _slicedToArray from\"/Users/konstantinradcenko/dev/Diploma/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import MoviesCard from\"../MoviesCard/MoviesCard\";import useWindowWidth from'../../hooks/useWindowWidth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MoviesCardList(_ref){var movies=_ref.movies,page=_ref.page;var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),numberOfMovies=_React$useState2[0],setNubmerOfMovies=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),maxNumberOfMovies=_React$useState4[0],setMaxNubmerOfMovies=_React$useState4[1];var windowWidth=useWindowWidth();//изменяет количество фильмов при отображении страницы\nReact.useEffect(function(){setNubmerOfMovies(movies.length);},[page]);// измененние количества доступных фильмов при отображениее\nReact.useEffect(function(){if(windowWidth<650){setMaxNubmerOfMovies(5);}else if(windowWidth<900){setMaxNubmerOfMovies(8);}else{setMaxNubmerOfMovies(12);}},[windowWidth]);// функция добавления фильмов\nfunction addMoreFilms(){if(windowWidth<650){setMaxNubmerOfMovies(maxNumberOfMovies+3);}else if(windowWidth<900){setMaxNubmerOfMovies(maxNumberOfMovies+3);}else{setMaxNubmerOfMovies(maxNumberOfMovies+3);}}var moviesElements=movies.slice(0,maxNumberOfMovies).map(function(movie){return/*#__PURE__*/_jsx(\"li\",{className:\"movie\",children:/*#__PURE__*/_jsx(MoviesCard,{movie:movie,page:page})},movie.movieId);});return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"ul\",{className:\"movies-cardlist\",children:moviesElements}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"aria-label\":\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0435\\u0449\\u0435 \\u0444\\u0438\\u043B\\u044C\\u043C\\u044B\",className:\"button movies-cardlist__button \".concat(numberOfMovies<=3?\"movies-cardlist__button_hidden\":\"\"),onClick:addMoreFilms,children:\"\\u0415\\u0449\\u0451\"})]});}export default MoviesCardList;","map":{"version":3,"names":["React","MoviesCard","useWindowWidth","jsx","_jsx","jsxs","_jsxs","MoviesCardList","_ref","movies","page","_React$useState","useState","_React$useState2","_slicedToArray","numberOfMovies","setNubmerOfMovies","_React$useState3","_React$useState4","maxNumberOfMovies","setMaxNubmerOfMovies","windowWidth","useEffect","length","addMoreFilms","moviesElements","slice","map","movie","className","children","movieId","type","concat","onClick"],"sources":["/Users/konstantinradcenko/dev/Diploma/movies-explorer-frontend/src/components/MoviesCardList/MoviesCardList.js"],"sourcesContent":["import React from \"react\";\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\nimport useWindowWidth from '../../hooks/useWindowWidth'\n\nfunction MoviesCardList({ movies, page}) {\n  const [numberOfMovies, setNubmerOfMovies] = React.useState();\n  const [maxNumberOfMovies, setMaxNubmerOfMovies] = React.useState();\n  const windowWidth = useWindowWidth();\n  //изменяет количество фильмов при отображении страницы\n  React.useEffect(() => {\n    setNubmerOfMovies(movies.length);\n  }, [page]);\n  // измененние количества доступных фильмов при отображениее\n  React.useEffect(() => {\n    if (windowWidth < 650) {\n      setMaxNubmerOfMovies(5);\n    } else if (windowWidth < 900) {\n      setMaxNubmerOfMovies(8);\n    } else {\n      setMaxNubmerOfMovies(12);\n    }\n  }, [windowWidth]);\n  // функция добавления фильмов\n  function addMoreFilms() {\n    if (windowWidth < 650) {\n      setMaxNubmerOfMovies(maxNumberOfMovies + 3);\n    } else if (windowWidth < 900) {\n      setMaxNubmerOfMovies(maxNumberOfMovies + 3);\n    } else {\n      setMaxNubmerOfMovies(maxNumberOfMovies + 3);\n    }\n  }\n\n  const moviesElements = movies.slice(0, maxNumberOfMovies).map((movie) => (\n    <li key={movie.movieId} className=\"movie\">\n      <MoviesCard movie={movie} page={page} />\n    </li>\n  ));\n\n  return (\n    <section>\n      <ul className=\"movies-cardlist\">{moviesElements}</ul>\n      <button\n        type=\"button\"\n        aria-label=\"Загрузить еще фильмы\"\n        className={`button movies-cardlist__button ${\n          numberOfMovies <= 3 ? \"movies-cardlist__button_hidden\" : \"\"\n        }`}\n        onClick={addMoreFilms}\n      >\n        Ещё\n      </button>\n    </section>\n  );\n}\n\nexport default MoviesCardList;\n"],"mappings":"oJAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,cAAc,KAAM,4BAA4B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvD,QAAS,CAAAC,cAAcA,CAAAC,IAAA,CAAkB,IAAf,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,IAAI,CAAAF,IAAA,CAAJE,IAAI,CACpC,IAAAC,eAAA,CAA4CX,KAAK,CAACY,QAAQ,CAAC,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAArDI,cAAc,CAAAF,gBAAA,IAAEG,iBAAiB,CAAAH,gBAAA,IACxC,IAAAI,gBAAA,CAAkDjB,KAAK,CAACY,QAAQ,CAAC,CAAC,CAAAM,gBAAA,CAAAJ,cAAA,CAAAG,gBAAA,IAA3DE,iBAAiB,CAAAD,gBAAA,IAAEE,oBAAoB,CAAAF,gBAAA,IAC9C,GAAM,CAAAG,WAAW,CAAGnB,cAAc,CAAC,CAAC,CACpC;AACAF,KAAK,CAACsB,SAAS,CAAC,UAAM,CACpBN,iBAAiB,CAACP,MAAM,CAACc,MAAM,CAAC,CAClC,CAAC,CAAE,CAACb,IAAI,CAAC,CAAC,CACV;AACAV,KAAK,CAACsB,SAAS,CAAC,UAAM,CACpB,GAAID,WAAW,CAAG,GAAG,CAAE,CACrBD,oBAAoB,CAAC,CAAC,CAAC,CACzB,CAAC,IAAM,IAAIC,WAAW,CAAG,GAAG,CAAE,CAC5BD,oBAAoB,CAAC,CAAC,CAAC,CACzB,CAAC,IAAM,CACLA,oBAAoB,CAAC,EAAE,CAAC,CAC1B,CACF,CAAC,CAAE,CAACC,WAAW,CAAC,CAAC,CACjB;AACA,QAAS,CAAAG,YAAYA,CAAA,CAAG,CACtB,GAAIH,WAAW,CAAG,GAAG,CAAE,CACrBD,oBAAoB,CAACD,iBAAiB,CAAG,CAAC,CAAC,CAC7C,CAAC,IAAM,IAAIE,WAAW,CAAG,GAAG,CAAE,CAC5BD,oBAAoB,CAACD,iBAAiB,CAAG,CAAC,CAAC,CAC7C,CAAC,IAAM,CACLC,oBAAoB,CAACD,iBAAiB,CAAG,CAAC,CAAC,CAC7C,CACF,CAEA,GAAM,CAAAM,cAAc,CAAGhB,MAAM,CAACiB,KAAK,CAAC,CAAC,CAAEP,iBAAiB,CAAC,CAACQ,GAAG,CAAC,SAACC,KAAK,qBAClExB,IAAA,OAAwByB,SAAS,CAAC,OAAO,CAAAC,QAAA,cACvC1B,IAAA,CAACH,UAAU,EAAC2B,KAAK,CAAEA,KAAM,CAAClB,IAAI,CAAEA,IAAK,CAAE,CAAC,EADjCkB,KAAK,CAACG,OAEX,CAAC,EACN,CAAC,CAEF,mBACEzB,KAAA,YAAAwB,QAAA,eACE1B,IAAA,OAAIyB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAEL,cAAc,CAAK,CAAC,cACrDrB,IAAA,WACE4B,IAAI,CAAC,QAAQ,CACb,aAAW,gHAAsB,CACjCH,SAAS,mCAAAI,MAAA,CACPlB,cAAc,EAAI,CAAC,CAAG,gCAAgC,CAAG,EAAE,CAC1D,CACHmB,OAAO,CAAEV,YAAa,CAAAM,QAAA,CACvB,oBAED,CAAQ,CAAC,EACF,CAAC,CAEd,CAEA,cAAe,CAAAvB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}